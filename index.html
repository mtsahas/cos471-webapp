<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tiger DElection</title>
    <link href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css' rel='stylesheet' type='text/css'>
   
</head>
<body class="container">
    <h1>Tiger DElection</h1>
        <div>Welcome to Tiger DElection! This blockchain-based voting app uses Metamask wallets to vote in elections.</div>
        <div>Setup and voting instructions:</div>
        <ol>
            <li>Metamask: Make sure you are using Chrome and have the Metamask extension installed. You will also need Sepolia ETH, which you can get from <a href="https://www.alchemy.com/faucets/ethereum-sepolia">this faucet</a>.</li>
            <li>Click on the Metamask extension icon. Click the three dots in the upper right corner, then click on "Connected Sites". When prompted, agree to manually connect to this site. You should now be able to see the elections!</li>
            <li>Click into an election to see the candidates. Vote by choosing a candidate from the dropdown menu and click "Vote".</li>
            <li>Test the voting feature with the Test Election. With this election, you can vote multiple times. You should be able to see your vote reflected in the vote counts after refreshing the page a few times.</li>
            <li>If you try to vote and get an error from Metamask saying that the transaction might fail, it is because you have already voted for that election. Each election, besides the Test Election, will only allow you to vote once!</li>
        </ol>
    <div id="elections-list" class="list-group">
        <!-- Election cards will be dynamically added here -->
    </div>

    <div id="election-details" style="display: none;">

        <h2 id="election-title"></h2>
        <div class="table-responsive">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Candidate</th>
                        <th>Votes</th>
                    </tr>
                </thead>
                <tbody id="election-candidates">
                    <!-- Candidate details will be dynamically added here -->
                </tbody>
            </table>
        </div>
        <form id="vote-form">
            <select id="candidate-options" name="candidate"></select>
            <button type="submit" class="btn btn-primary">Vote</button>
        </form>
        <p id="error-msg"></p>
        <button id="back-btn" class="btn btn-secondary">Back to Elections</button>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/web3@1.10.3/dist/web3.min.js"></script>
    <script type="module" src="index.js"></script>
</body>
</html>
